{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Leeds EPC Data Exploration & Analysis Workbook"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Setup"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Import required Python libraries"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import json, os\n",
    "from zipfile import ZipFile\n",
    "import pandas as pd\n",
    "import geopandas as gpd"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Set some constants:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "ZIPPED_EPC_DATA_PATH = 'data/raw/England-and-Wales-EPC-All.zip'\n",
    "ZIPPED_ONS_POSTCODE_LOOKUP = 'data/raw/ONS-PCD-Lookup-Nov20.zip'\n",
    "LEEDS_EPC_FILENAME = 'domestic-E08000035-Leeds/certificates.csv'\n",
    "PCD_LOOKUP_FILENAME = 'PCD_OA_LSOA_MSOA_LAD_NOV20_UK_LU.csv'\n",
    "EXTRACT_DIR = 'data/extracts'\n",
    "OUTPUT_DIR = 'data/output'"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Extract and load"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Extract ZIP files to CSV files (if they do not already exist)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "def extract_single_file_from_zip(zip_filepath, file_to_extract, extract_dir):\n",
    "    output_filepath = f'{extract_dir}/{file_to_extract}'\n",
    "    if not os.path.exists(output_filepath):\n",
    "        print(f'{output_filepath} does not exist')\n",
    "        with ZipFile(zip_filepath, mode='r') as zipped:\n",
    "            output_filepath = zipped.extract(file_to_extract, path=extract_dir)\n",
    "    return output_filepath\n",
    "\n",
    "extracted_epc_fp = extract_single_file_from_zip(ZIPPED_EPC_DATA_PATH, LEEDS_EPC_FILENAME, EXTRACT_DIR)\n",
    "extracted_pcd_lookup_fp = extract_single_file_from_zip(ZIPPED_ONS_POSTCODE_LOOKUP, PCD_LOOKUP_FILENAME, EXTRACT_DIR)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Load a subset of the EPC Data columns into a Dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 291914 entries, 0 to 291913\n",
      "Data columns (total 9 columns):\n",
      " #   Column                       Non-Null Count   Dtype         \n",
      "---  ------                       --------------   -----         \n",
      " 0   POSTCODE                     291914 non-null  object        \n",
      " 1   BUILDING_REFERENCE_NUMBER    291914 non-null  int64         \n",
      " 2   CURRENT_ENERGY_RATING        291914 non-null  object        \n",
      " 3   POTENTIAL_ENERGY_RATING      291914 non-null  object        \n",
      " 4   CURRENT_ENERGY_EFFICIENCY    291914 non-null  int64         \n",
      " 5   POTENTIAL_ENERGY_EFFICIENCY  291914 non-null  int64         \n",
      " 6   INSPECTION_DATE              291914 non-null  datetime64[ns]\n",
      " 7   TRANSACTION_TYPE             291914 non-null  object        \n",
      " 8   CONSTRUCTION_AGE_BAND        264008 non-null  object        \n",
      "dtypes: datetime64[ns](1), int64(3), object(5)\n",
      "memory usage: 20.0+ MB\n"
     ]
    }
   ],
   "source": [
    "epc_data = pd.read_csv(\n",
    "    extracted_epc_fp,\n",
    "    low_memory=False,\n",
    "    usecols=[\n",
    "        'POSTCODE', \n",
    "        'BUILDING_REFERENCE_NUMBER',\n",
    "        'CURRENT_ENERGY_RATING',\n",
    "        'POTENTIAL_ENERGY_RATING',\n",
    "        'CURRENT_ENERGY_EFFICIENCY',\n",
    "        'POTENTIAL_ENERGY_EFFICIENCY',\n",
    "        'INSPECTION_DATE',\n",
    "        'TRANSACTION_TYPE',\n",
    "        'CONSTRUCTION_AGE_BAND'\n",
    "    ],\n",
    "    parse_dates=['INSPECTION_DATE'],\n",
    "    infer_datetime_format=True,\n",
    "    na_values=['INVALID!', 'NO DATA!', 'NODATA!' 'not recorded', 'blank'],\n",
    "    keep_default_na=True\n",
    ")\n",
    "epc_data.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Load the ONS postcode lookup file into a Dataframe:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 2651389 entries, 0 to 2651388\n",
      "Data columns (total 5 columns):\n",
      " #   Column    Dtype \n",
      "---  ------    ----- \n",
      " 0   pcds      object\n",
      " 1   lsoa11cd  object\n",
      " 2   ladcd     object\n",
      " 3   lsoa11nm  object\n",
      " 4   ladnm     object\n",
      "dtypes: object(5)\n",
      "memory usage: 101.1+ MB\n"
     ]
    }
   ],
   "source": [
    "pcd_lookup = pd.read_csv(\n",
    "    extracted_pcd_lookup_fp,\n",
    "    low_memory=False,\n",
    "    dtype='str',\n",
    "    usecols=['pcds', 'lsoa11cd', 'lsoa11nm', 'ladcd', 'ladnm']\n",
    ")\n",
    "pcd_lookup.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Data cleaning:"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Sort by data (newest to oldest), and remove outdated EPC's (ie. de-duplicate by '*PROPERTY_REFERENCE_NUMBER*')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "Int64Index: 223903 entries, 210533 to 240321\n",
      "Data columns (total 9 columns):\n",
      " #   Column                       Non-Null Count   Dtype         \n",
      "---  ------                       --------------   -----         \n",
      " 0   POSTCODE                     223903 non-null  object        \n",
      " 1   BUILDING_REFERENCE_NUMBER    223903 non-null  int64         \n",
      " 2   CURRENT_ENERGY_RATING        223903 non-null  object        \n",
      " 3   POTENTIAL_ENERGY_RATING      223903 non-null  object        \n",
      " 4   CURRENT_ENERGY_EFFICIENCY    223903 non-null  int64         \n",
      " 5   POTENTIAL_ENERGY_EFFICIENCY  223903 non-null  int64         \n",
      " 6   INSPECTION_DATE              223903 non-null  datetime64[ns]\n",
      " 7   TRANSACTION_TYPE             223903 non-null  object        \n",
      " 8   CONSTRUCTION_AGE_BAND        199075 non-null  object        \n",
      "dtypes: datetime64[ns](1), int64(3), object(5)\n",
      "memory usage: 17.1+ MB\n"
     ]
    }
   ],
   "source": [
    "epc_data.sort_values(by='INSPECTION_DATE', ascending=False, inplace=True)\n",
    "epc_data.drop_duplicates(subset=['BUILDING_REFERENCE_NUMBER'], keep='first', inplace=True)\n",
    "epc_data.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Map postcodes to LSOAs, dropping rows with invalid postcodes"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Standardise postcodes in both tables:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "epc_data['POSTCODE'] = epc_data['POSTCODE'].str.replace('\\s*', '').str.upper()\n",
    "pcd_lookup['POSTCODE'] = pcd_lookup['pcds'].str.replace('\\s*', '').str.upper()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Merge tables on *'POSTCODE'* column (dropping any rows with invalid postcodes), then drop the postcode columns:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "Int64Index: 223818 entries, 0 to 223817\n",
      "Data columns (total 12 columns):\n",
      " #   Column                       Non-Null Count   Dtype         \n",
      "---  ------                       --------------   -----         \n",
      " 0   BUILDING_REFERENCE_NUMBER    223818 non-null  int64         \n",
      " 1   CURRENT_ENERGY_RATING        223818 non-null  object        \n",
      " 2   POTENTIAL_ENERGY_RATING      223818 non-null  object        \n",
      " 3   CURRENT_ENERGY_EFFICIENCY    223818 non-null  int64         \n",
      " 4   POTENTIAL_ENERGY_EFFICIENCY  223818 non-null  int64         \n",
      " 5   INSPECTION_DATE              223818 non-null  datetime64[ns]\n",
      " 6   TRANSACTION_TYPE             223818 non-null  object        \n",
      " 7   CONSTRUCTION_AGE_BAND        199055 non-null  object        \n",
      " 8   lsoa11cd                     223818 non-null  object        \n",
      " 9   ladcd                        223818 non-null  object        \n",
      " 10  lsoa11nm                     223818 non-null  object        \n",
      " 11  ladnm                        223818 non-null  object        \n",
      "dtypes: datetime64[ns](1), int64(3), object(8)\n",
      "memory usage: 22.2+ MB\n"
     ]
    }
   ],
   "source": [
    "epc_data = epc_data.merge(\n",
    "    pcd_lookup,\n",
    "    on='POSTCODE',\n",
    "    how='inner',\n",
    ")\n",
    "epc_data.drop(columns=['POSTCODE', 'pcds'], inplace=True)\n",
    "epc_data.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Drop rows where property is not within Leeds (using the *'ladcd'* column)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "Int64Index: 223416 entries, 0 to 223817\n",
      "Data columns (total 12 columns):\n",
      " #   Column                       Non-Null Count   Dtype         \n",
      "---  ------                       --------------   -----         \n",
      " 0   BUILDING_REFERENCE_NUMBER    223416 non-null  int64         \n",
      " 1   CURRENT_ENERGY_RATING        223416 non-null  object        \n",
      " 2   POTENTIAL_ENERGY_RATING      223416 non-null  object        \n",
      " 3   CURRENT_ENERGY_EFFICIENCY    223416 non-null  int64         \n",
      " 4   POTENTIAL_ENERGY_EFFICIENCY  223416 non-null  int64         \n",
      " 5   INSPECTION_DATE              223416 non-null  datetime64[ns]\n",
      " 6   TRANSACTION_TYPE             223416 non-null  object        \n",
      " 7   CONSTRUCTION_AGE_BAND        199042 non-null  object        \n",
      " 8   lsoa11cd                     223416 non-null  object        \n",
      " 9   ladcd                        223416 non-null  object        \n",
      " 10  lsoa11nm                     223416 non-null  object        \n",
      " 11  ladnm                        223416 non-null  object        \n",
      "dtypes: datetime64[ns](1), int64(3), object(8)\n",
      "memory usage: 22.2+ MB\n"
     ]
    }
   ],
   "source": [
    "LADCD = 'E08000035'\n",
    "epc_data = epc_data[epc_data['ladcd'] == LADCD]\n",
    "epc_data.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Analysis:"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Simple breakdowns (for Leeds as a whole)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Number of properties by current EPC rating:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='EPC Rating', ylabel='Number of properties'>"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "epc_data['CURRENT_ENERGY_RATING'].value_counts().sort_index().plot.bar(xlabel='EPC Rating', ylabel='Number of properties')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Number of properties by transaction type:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:ylabel='Reason for EPC Inspection'>"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "epc_data['TRANSACTION_TYPE'].value_counts().plot.barh(xlabel='Reason for EPC Inspection', ylabel='Number of properties')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Number of properties by construction age band:"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "##### The *'CONSTRUCTION_AGE_BAND'* column contains empty some values, so we will fill those with 'UNKNOWN', and also standardise the naming:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:ylabel='Construction Age Band'>"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "epc_data['CONSTRUCTION_AGE_BAND'] = epc_data['CONSTRUCTION_AGE_BAND'] \\\n",
    "                                        .fillna('UNKNOWN') \\\n",
    "                                        .str.replace('England and Wales: ', '') \\\n",
    "                                        .str.replace('before ', 'PRE-') \\\n",
    "                                        .str.replace(' onwards', '-2020')\n",
    "epc_data['CONSTRUCTION_AGE_BAND'].value_counts().sort_index(ascending=False).plot.barh(xlabel='Construction Age Band', ylabel='Number of properties')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Grouped by LSOA:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "epc_data.sort_values(by='lsoa11cd', inplace=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Create a Dataframe to store our aggregated output:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "lsoa_averages = pd.DataFrame(index=epc_data['lsoa11cd'].unique())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Calculate number of properties in each age band for each LSOA:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>CONSTRUCTION_AGE_BAND</th>\n",
       "      <th>1900-1929</th>\n",
       "      <th>1930-1949</th>\n",
       "      <th>1950-1966</th>\n",
       "      <th>1967-1975</th>\n",
       "      <th>1976-1982</th>\n",
       "      <th>1983-1990</th>\n",
       "      <th>1991-1995</th>\n",
       "      <th>1996-2002</th>\n",
       "      <th>2003-2006</th>\n",
       "      <th>2007-2020</th>\n",
       "      <th>PRE-1900</th>\n",
       "      <th>UNKNOWN</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>lsoa11cd</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>E01011264</th>\n",
       "      <td>3</td>\n",
       "      <td>69</td>\n",
       "      <td>116</td>\n",
       "      <td>41</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>16</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011265</th>\n",
       "      <td>110</td>\n",
       "      <td>38</td>\n",
       "      <td>14</td>\n",
       "      <td>47</td>\n",
       "      <td>17</td>\n",
       "      <td>34</td>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "      <td>56</td>\n",
       "      <td>10</td>\n",
       "      <td>163</td>\n",
       "      <td>168</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011266</th>\n",
       "      <td>35</td>\n",
       "      <td>83</td>\n",
       "      <td>45</td>\n",
       "      <td>36</td>\n",
       "      <td>11</td>\n",
       "      <td>6</td>\n",
       "      <td>5</td>\n",
       "      <td>8</td>\n",
       "      <td>93</td>\n",
       "      <td>134</td>\n",
       "      <td>12</td>\n",
       "      <td>79</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011267</th>\n",
       "      <td>22</td>\n",
       "      <td>45</td>\n",
       "      <td>158</td>\n",
       "      <td>44</td>\n",
       "      <td>11</td>\n",
       "      <td>5</td>\n",
       "      <td>10</td>\n",
       "      <td>14</td>\n",
       "      <td>13</td>\n",
       "      <td>12</td>\n",
       "      <td>32</td>\n",
       "      <td>94</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011268</th>\n",
       "      <td>0</td>\n",
       "      <td>70</td>\n",
       "      <td>203</td>\n",
       "      <td>27</td>\n",
       "      <td>41</td>\n",
       "      <td>29</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033031</th>\n",
       "      <td>24</td>\n",
       "      <td>9</td>\n",
       "      <td>88</td>\n",
       "      <td>21</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>15</td>\n",
       "      <td>62</td>\n",
       "      <td>327</td>\n",
       "      <td>8</td>\n",
       "      <td>332</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033032</th>\n",
       "      <td>7</td>\n",
       "      <td>8</td>\n",
       "      <td>65</td>\n",
       "      <td>87</td>\n",
       "      <td>5</td>\n",
       "      <td>21</td>\n",
       "      <td>4</td>\n",
       "      <td>44</td>\n",
       "      <td>256</td>\n",
       "      <td>266</td>\n",
       "      <td>2</td>\n",
       "      <td>858</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033033</th>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>75</td>\n",
       "      <td>7</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>10</td>\n",
       "      <td>198</td>\n",
       "      <td>252</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033034</th>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>9</td>\n",
       "      <td>154</td>\n",
       "      <td>287</td>\n",
       "      <td>325</td>\n",
       "      <td>18</td>\n",
       "      <td>221</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033035</th>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>41</td>\n",
       "      <td>51</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "      <td>2</td>\n",
       "      <td>20</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>587</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>482 rows × 12 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "CONSTRUCTION_AGE_BAND  1900-1929  1930-1949  1950-1966  1967-1975  1976-1982  \\\n",
       "lsoa11cd                                                                       \n",
       "E01011264                      3         69        116         41          3   \n",
       "E01011265                    110         38         14         47         17   \n",
       "E01011266                     35         83         45         36         11   \n",
       "E01011267                     22         45        158         44         11   \n",
       "E01011268                      0         70        203         27         41   \n",
       "...                          ...        ...        ...        ...        ...   \n",
       "E01033031                     24          9         88         21          1   \n",
       "E01033032                      7          8         65         87          5   \n",
       "E01033033                      0          1         75          7          1   \n",
       "E01033034                      5          0          0          0          0   \n",
       "E01033035                      2          2         41         51          0   \n",
       "\n",
       "CONSTRUCTION_AGE_BAND  1983-1990  1991-1995  1996-2002  2003-2006  2007-2020  \\\n",
       "lsoa11cd                                                                       \n",
       "E01011264                      0          1          0          0          0   \n",
       "E01011265                     34          9          9         56         10   \n",
       "E01011266                      6          5          8         93        134   \n",
       "E01011267                      5         10         14         13         12   \n",
       "E01011268                     29          3          3          1          0   \n",
       "...                          ...        ...        ...        ...        ...   \n",
       "E01033031                      0          1         15         62        327   \n",
       "E01033032                     21          4         44        256        266   \n",
       "E01033033                      0          1         10        198        252   \n",
       "E01033034                      6          9        154        287        325   \n",
       "E01033035                      7          2         20          0          0   \n",
       "\n",
       "CONSTRUCTION_AGE_BAND  PRE-1900  UNKNOWN  \n",
       "lsoa11cd                                  \n",
       "E01011264                    16        4  \n",
       "E01011265                   163      168  \n",
       "E01011266                    12       79  \n",
       "E01011267                    32       94  \n",
       "E01011268                     0        2  \n",
       "...                         ...      ...  \n",
       "E01033031                     8      332  \n",
       "E01033032                     2      858  \n",
       "E01033033                     0        1  \n",
       "E01033034                    18      221  \n",
       "E01033035                     0      587  \n",
       "\n",
       "[482 rows x 12 columns]"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lsoa_age_band_data = epc_data[['lsoa11cd', 'CONSTRUCTION_AGE_BAND']].pivot_table(index=['lsoa11cd'], columns='CONSTRUCTION_AGE_BAND', aggfunc='size', fill_value=0)\n",
    "lsoa_age_band_data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Do the same for EPC Ratings:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>CURRENT_ENERGY_RATING</th>\n",
       "      <th>A</th>\n",
       "      <th>B</th>\n",
       "      <th>C</th>\n",
       "      <th>D</th>\n",
       "      <th>E</th>\n",
       "      <th>F</th>\n",
       "      <th>G</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>lsoa11cd</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>E01011264</th>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>54</td>\n",
       "      <td>158</td>\n",
       "      <td>31</td>\n",
       "      <td>7</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011265</th>\n",
       "      <td>0</td>\n",
       "      <td>104</td>\n",
       "      <td>235</td>\n",
       "      <td>197</td>\n",
       "      <td>122</td>\n",
       "      <td>11</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011266</th>\n",
       "      <td>0</td>\n",
       "      <td>47</td>\n",
       "      <td>211</td>\n",
       "      <td>209</td>\n",
       "      <td>71</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011267</th>\n",
       "      <td>0</td>\n",
       "      <td>106</td>\n",
       "      <td>150</td>\n",
       "      <td>161</td>\n",
       "      <td>33</td>\n",
       "      <td>7</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011268</th>\n",
       "      <td>0</td>\n",
       "      <td>9</td>\n",
       "      <td>151</td>\n",
       "      <td>167</td>\n",
       "      <td>43</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033031</th>\n",
       "      <td>0</td>\n",
       "      <td>239</td>\n",
       "      <td>349</td>\n",
       "      <td>157</td>\n",
       "      <td>111</td>\n",
       "      <td>32</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033032</th>\n",
       "      <td>0</td>\n",
       "      <td>937</td>\n",
       "      <td>541</td>\n",
       "      <td>118</td>\n",
       "      <td>26</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033033</th>\n",
       "      <td>0</td>\n",
       "      <td>55</td>\n",
       "      <td>413</td>\n",
       "      <td>73</td>\n",
       "      <td>4</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033034</th>\n",
       "      <td>0</td>\n",
       "      <td>210</td>\n",
       "      <td>504</td>\n",
       "      <td>268</td>\n",
       "      <td>40</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033035</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>192</td>\n",
       "      <td>86</td>\n",
       "      <td>299</td>\n",
       "      <td>94</td>\n",
       "      <td>41</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>482 rows × 7 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "CURRENT_ENERGY_RATING  A    B    C    D    E   F   G\n",
       "lsoa11cd                                            \n",
       "E01011264              0    1   54  158   31   7   2\n",
       "E01011265              0  104  235  197  122  11   6\n",
       "E01011266              0   47  211  209   71   6   3\n",
       "E01011267              0  106  150  161   33   7   3\n",
       "E01011268              0    9  151  167   43   6   3\n",
       "...                   ..  ...  ...  ...  ...  ..  ..\n",
       "E01033031              0  239  349  157  111  32   0\n",
       "E01033032              0  937  541  118   26   1   0\n",
       "E01033033              0   55  413   73    4   1   0\n",
       "E01033034              0  210  504  268   40   2   1\n",
       "E01033035              0    0  192   86  299  94  41\n",
       "\n",
       "[482 rows x 7 columns]"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lsoa_epc_rating_data = epc_data[['lsoa11cd', 'CURRENT_ENERGY_RATING']].pivot_table(index=['lsoa11cd'], columns='CURRENT_ENERGY_RATING', aggfunc='size', fill_value=0)\n",
    "lsoa_epc_rating_data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Use the above outputs to calculate the **modal** average age band and EPC Rating by LSOA:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "lsoa_averages['AGE_BAND_MODE'] = lsoa_age_band_data.agg(pd.Series.idxmax, axis=1)\n",
    "lsoa_averages['EPC_RATING_MODE'] = lsoa_epc_rating_data.agg(pd.Series.idxmax, axis=1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Calculate the mean *'CURRENT_ENERGY_EFFICIENCY'* value for each LSOA:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>AGE_BAND_MODE</th>\n",
       "      <th>EPC_RATING_MODE</th>\n",
       "      <th>ENERGY_EFFICIENCY_MEAN</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>E01011264</th>\n",
       "      <td>1950-1966</td>\n",
       "      <td>D</td>\n",
       "      <td>62</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011265</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>C</td>\n",
       "      <td>67</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011266</th>\n",
       "      <td>2007-2020</td>\n",
       "      <td>C</td>\n",
       "      <td>66</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011267</th>\n",
       "      <td>1950-1966</td>\n",
       "      <td>D</td>\n",
       "      <td>69</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011268</th>\n",
       "      <td>1950-1966</td>\n",
       "      <td>D</td>\n",
       "      <td>65</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033031</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>C</td>\n",
       "      <td>70</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033032</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>B</td>\n",
       "      <td>79</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033033</th>\n",
       "      <td>2007-2020</td>\n",
       "      <td>C</td>\n",
       "      <td>75</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033034</th>\n",
       "      <td>2007-2020</td>\n",
       "      <td>C</td>\n",
       "      <td>73</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033035</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>E</td>\n",
       "      <td>52</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>482 rows × 3 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "          AGE_BAND_MODE EPC_RATING_MODE  ENERGY_EFFICIENCY_MEAN\n",
       "E01011264     1950-1966               D                      62\n",
       "E01011265       UNKNOWN               C                      67\n",
       "E01011266     2007-2020               C                      66\n",
       "E01011267     1950-1966               D                      69\n",
       "E01011268     1950-1966               D                      65\n",
       "...                 ...             ...                     ...\n",
       "E01033031       UNKNOWN               C                      70\n",
       "E01033032       UNKNOWN               B                      79\n",
       "E01033033     2007-2020               C                      75\n",
       "E01033034     2007-2020               C                      73\n",
       "E01033035       UNKNOWN               E                      52\n",
       "\n",
       "[482 rows x 3 columns]"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lsoa_averages['ENERGY_EFFICIENCY_MEAN'] = epc_data.groupby('lsoa11cd')['CURRENT_ENERGY_EFFICIENCY'].mean().round().astype('int')\n",
    "lsoa_averages"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Since the EPC Ratings are based on the values of the energy efficiency values, we can use the mean energy efficiency to derive the mean EPC Rating for each LSOA:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>AGE_BAND_MODE</th>\n",
       "      <th>EPC_RATING_MODE</th>\n",
       "      <th>ENERGY_EFFICIENCY_MEAN</th>\n",
       "      <th>EPC_RATING_MEAN</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>E01011264</th>\n",
       "      <td>1950-1966</td>\n",
       "      <td>D</td>\n",
       "      <td>62</td>\n",
       "      <td>D</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011265</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>C</td>\n",
       "      <td>67</td>\n",
       "      <td>D</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011266</th>\n",
       "      <td>2007-2020</td>\n",
       "      <td>C</td>\n",
       "      <td>66</td>\n",
       "      <td>D</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011267</th>\n",
       "      <td>1950-1966</td>\n",
       "      <td>D</td>\n",
       "      <td>69</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01011268</th>\n",
       "      <td>1950-1966</td>\n",
       "      <td>D</td>\n",
       "      <td>65</td>\n",
       "      <td>D</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033031</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>C</td>\n",
       "      <td>70</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033032</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>B</td>\n",
       "      <td>79</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033033</th>\n",
       "      <td>2007-2020</td>\n",
       "      <td>C</td>\n",
       "      <td>75</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033034</th>\n",
       "      <td>2007-2020</td>\n",
       "      <td>C</td>\n",
       "      <td>73</td>\n",
       "      <td>C</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>E01033035</th>\n",
       "      <td>UNKNOWN</td>\n",
       "      <td>E</td>\n",
       "      <td>52</td>\n",
       "      <td>E</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>482 rows × 4 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "          AGE_BAND_MODE EPC_RATING_MODE  ENERGY_EFFICIENCY_MEAN  \\\n",
       "E01011264     1950-1966               D                      62   \n",
       "E01011265       UNKNOWN               C                      67   \n",
       "E01011266     2007-2020               C                      66   \n",
       "E01011267     1950-1966               D                      69   \n",
       "E01011268     1950-1966               D                      65   \n",
       "...                 ...             ...                     ...   \n",
       "E01033031       UNKNOWN               C                      70   \n",
       "E01033032       UNKNOWN               B                      79   \n",
       "E01033033     2007-2020               C                      75   \n",
       "E01033034     2007-2020               C                      73   \n",
       "E01033035       UNKNOWN               E                      52   \n",
       "\n",
       "          EPC_RATING_MEAN  \n",
       "E01011264               D  \n",
       "E01011265               D  \n",
       "E01011266               D  \n",
       "E01011267               C  \n",
       "E01011268               D  \n",
       "...                   ...  \n",
       "E01033031               C  \n",
       "E01033032               C  \n",
       "E01033033               C  \n",
       "E01033034               C  \n",
       "E01033035               E  \n",
       "\n",
       "[482 rows x 4 columns]"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lsoa_averages['EPC_RATING_MEAN'] = pd.cut(\n",
    "    lsoa_averages['ENERGY_EFFICIENCY_MEAN'],\n",
    "    bins=[0, 20, 38, 54, 68, 80, 91, float('inf')],\n",
    "    labels=['G', 'F', 'E', 'D', 'C', 'B', 'A']\n",
    ")\n",
    "lsoa_averages"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
